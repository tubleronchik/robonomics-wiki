(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{DnKH:function(e,t){e.exports={type:"image",mimeType:"image/jpeg",src:"/assets/static/robonomics_network_communication_stack.7623986.337be95a65279a6026073101205dbbe8.jpg",size:{width:1073,height:654},sizes:"(max-width: 1073px) 100vw, 1073px",srcset:["/assets/static/robonomics_network_communication_stack.82a2fbd.337be95a65279a6026073101205dbbe8.jpg 480w","/assets/static/robonomics_network_communication_stack.7623986.337be95a65279a6026073101205dbbe8.jpg 1073w"],dataUri:"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1073 654' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-2313b4158046df6f056780e42c3c4ebb'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-2313b4158046df6f056780e42c3c4ebb)' width='1073' height='654' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAnAEADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAAAAUCAwQBBgj/xAAxEAACAQMDAgMGBQUAAAAAAAABAgMABBESITEFEyJRcUFTYYGRoRQyM0KxI2LB0fD/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A%2bkdNvCyqfxJYBTsSRxn/AIVrt3jkYOpaM6f3AKefLHwpf1KaSCWCRYJZkICsI8krkc4xj601jfXAXjd8AfuTHHqKCue6WKQIWlbIzlVyP4qUNwsuDrdQQT4gB9sUv6lLJFbJNHE0rK2oohIJ3Plz6Vq6ZMbyLvdme2PGiVApoNepfffcUal999xSXqHUBaXiCZCY5Ru67lcHypssrtAZPGuPY6gZoK5rxYnZT3mxjdUyDtnnFXO4CMVm3wccV5br88dvewFrm4tCYwDJEAcjbkZzT%2b3uEuOlRSJMZcgeNhpLH0oOm5WCRVLAMyjAKk%2bzzFXl5HT88OCPM0r6iXFzasj3KAFdXZGrK44Iz/g06kUdtthwaBR1W1jurRbeWQoWfCsFychj9Kv6XDJaWixLc95Rw0rEkfCsXW5ez00Sapl0keKJsMNz8j6Uz6Yc24D3DXD86nQK2PQUFsaSoPCYyDvvmuukzrpYxgHnGanb/pfM/wAmrKBcbqxTSk5i7ukEhgM8VcGt5IWaFY/y5BAHBHsqdsyCIBmUHA5P9orl0yGE6SpORwaDBd2U09xaTRKP6LK%2bdsnbitzSXLKR%2bGG4x%2boKKKDJe2T3Np2GjbS3OGAI3NQ6fYyWOntwsxAxvKOPkKKKBhC0iRgNC2dycEefrU%2b4/uX%2bq/7oooCOJe0gdF1BQDkZ9lEsaCJyFUHSeB8KKKD/2Q==' /%3e%3c/svg%3e"}},IXYQ:function(e,t){e.exports={type:"image",mimeType:"image/jpeg",src:"/assets/static/robonomics_network_scenario.7f6bebf.d47b6a0af81bbb1b32f9856e206c8c29.jpg",size:{width:622,height:322},sizes:"(max-width: 622px) 100vw, 622px",srcset:["/assets/static/robonomics_network_scenario.7f6bebf.d47b6a0af81bbb1b32f9856e206c8c29.jpg 622w"],dataUri:"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 622 322' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-8601bccc116ca1d4b2597bc01a6ab94a'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-8601bccc116ca1d4b2597bc01a6ab94a)' width='622' height='322' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAhAEADASIAAhEBAxEB/8QAGwAAAgMAAwAAAAAAAAAAAAAAAAUCAwQBBgj/xAAvEAACAQMDAgQFAwUAAAAAAAABAgMABBEFEiFBURMiMXEUFTKRoSRCYVOBgpKx/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APSmoXd5Dc7bazuLlOdxieNdnA483JJyTx2qgajf%2bKEbS9QCk4LhoSBnHPr05P8AY05aKNm3Mik9yK48CH%2blH/qKBHeajPDdTRrcAhWIACxkj0POWHftRFqUrlQb6FEOMyMqYX6uDgkftHXrTa6WOGIMsETMWVQCAByQPXFdcW8j%2bUNa/E6F8S6sgJufL5iemM%2bh%2b9Bsh1Gdw5a7jUqwAQiMmT2wx/5TtkYKSJ3yB2Xt7VRbNEYpDNFDEYmKseCOMHOSB3qq5vLCCNSr2jOzrGil1G5mOAPuaBYuqzkxKbyM71VtyrHgZAz6vnj2pvp80kqRs0olDGQblAwcNgEY/il1zPbJqcXjfKEniBj2PcAOC%2b3AAK5Gfzmmto2ZZUeGOORMZ2HIII45wO1BpZ1U4ZgD/JqEkypGzDzkDO1SMn7mluo2t7LdbrS7W3UfUrWwlD524OSRjGG4Hep6fBcxPIb24S5VgNoW18Pb%2bTmghd3kk8aotldq24NkeEcYI6b%2bazW9u9zYpcqtrJM3O0woOc49eeeKY30YktmWKHc25TtK4yAwJGfYGkselSQoyRWFsIgG2xrEqYzkjBB7ntQWxXU0lvcJLBhGId5HbByccBSoyOO9ObqGCeLaTGrBg6tgHBByD%2bKxPa3MkAjkniwQAcWp6f5VZPDdPDIsU0KSMpCsbUnB9M43UGTULeRb2KXFvO2xi36ZTKcbcbSSO/WtumvI08pminDuAS7hAOOAMKxPWlHyucmBhZ24KqAwaJWLcDPmz1x2pzp0LRpEDF4ZXxMgcgAtkDPtQb6KKKAooooCiiigKKKKD//Z' /%3e%3c/svg%3e"}},UQSp:function(e,t,o){"use strict";t.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}},aDXn:function(e,t){e.exports={type:"image",mimeType:"image/jpeg",src:"/assets/static/robonomics_network_detailed_scenario.bda9032.6c3db397ce55d89dda932032c86087a7.jpg",size:{width:818,height:782},sizes:"(max-width: 818px) 100vw, 818px",srcset:["/assets/static/robonomics_network_detailed_scenario.82a2fbd.6c3db397ce55d89dda932032c86087a7.jpg 480w","/assets/static/robonomics_network_detailed_scenario.bda9032.6c3db397ce55d89dda932032c86087a7.jpg 818w"],dataUri:"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 818 782' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-39c21709ad9858a56546d936657e79d3'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-39c21709ad9858a56546d936657e79d3)' width='818' height='782' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAA9AEADASIAAhEBAxEB/8QAGgAAAwEBAQEAAAAAAAAAAAAAAwQFAQIACP/EADYQAAIBAwIEAwQIBwEAAAAAAAECAwAEERIhBRMxURRBcUNhgZEiMmKhorHR0iQzNHLB4fDx/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APqK5lKiRE1CTllg2NgegqZw971Lgi6ueaE%2buuFGnOOuKbuyYJxLNOeSdtAi1HHbbfFASe2IkkN0qIpALONOCegOaBRn4gLor40DU%2bUjITJGc479Ky8ubuO6yL8RRMBhWC5IHXyqhEIp5E5NwkgZSwKbjGfWurm0GVLMupmC50A%2blAtxCS7ZUkguTCioNZIXGT3zRbLx55XNkRgCCzebA/d/5QfDyxs%2bviEbogJ5SxKCAPQ1SSB1%2brLjP2aA7sEXJz1xtQIbyKZmCZOltJ26GvPA7qVeXKnqCtAsLSGKWRo1QFSVOEA7UDFzJLGTyYTK%2bnIGoKOvf/XlSF1I6TyyeHRtIQsHUu2N9lCg5NVPafClY5lFzM2NiFA%2bkPLPvoF9UHi42EMSkRMxyApA2O%2bRXpJ7edoRCLeQ8wHCOp23GaFPZ28vEVnJl3yxHOHXbGN8jz6UTkWtu6PbxCM8wO2lwM7dSM70Hd5awi3mcWkKvpJ1BRnPXOcUmvBJepkgGd8BG/dTk3EIJ4pYY9RkKHYjSPmdqcFwnb8Q/WgkNwSYnPPgBHnym/fVLhkQgikiBzpcjO/Yd6L4hO34h%2btcWbgvMPMuWG4O2B2oD%2b0%2bFBh/q7j0X/NG9p8KWilQXMzEnSQoBwcHGaAjj%2bMh/sb8xXN8oZYlPQyAfnWPKpuomGrSFYE6T7qy6mQiM5OFcMTg7DvQKTcMS3hnljllLaCAGwQo7AURbm%2bJGbEhe%2btdh866uL%2b0nglhhnjklZSAinJO3auiken%2bV5dz%2blApLcvJK7Q8ShRMfVEaHHx1U9wwlopCzK7FydSjAOw3qInDUAbPD7cEjyvJTn8NVuCoILYw6OUQxITUWwPcSNxQPe0%2bFTbu3kmnnEBZXAXAVwgJ36nBNU8fSz7sVioodmA3bGTQTdEyzRa4iXETHCspydtskD3b%2b%2bsPNk5Imt5ISZR1KMPuqoUBcPj6QBAP/elY6B9OoA6TketApeWyC1mYddB3CqD%2bVCTgtimCI5NQ3yZXO/zqi6B0KsMqRgitoBeHT7XzodmgVp8D2h3%2bApmsRAmrSANRyfWg/9k=' /%3e%3c/svg%3e"}},"sC+1":function(e,t,o){"use strict";o.r(t);var s=o("KHd+"),i=o("UQSp"),a=o("Kw5r");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.a.config.optionMergeStrategies;var r={VueRemarkRoot:i.a},n=function(e){var t=e.options.components=e.options.components||{},o=e.options.computed=e.options.computed||{};Object.keys(r).forEach((function(e){"object"===A(r[e])&&"function"==typeof r[e].render||"function"==typeof r[e]&&"function"==typeof r[e].options.render?t[e]=r[e]:o[e]=function(){return r[e]}}))},c=a.a.config.optionMergeStrategies,d="__vueRemarkFrontMatter",g={excerpt:null,title:"How It Works"};var m=function(e){e.options[d]&&(e.options[d]=g),a.a.util.defineReactive(e.options,d,g),e.options.computed=c.computed({$frontmatter:function(){return e.options[d]}},e.options.computed)},l=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("VueRemarkRoot",[s("h1",{attrs:{id:"how-it-works"}},[s("a",{attrs:{href:"#how-it-works","aria-hidden":"true"}},[e._v("#")]),e._v("How It Works")]),s("p",[e._v("In this section we will discuss the Robonomics Network scenario.")]),s("p",[e._v("There are few main parts in the Robonomics network:")]),s("ul",[s("li",[e._v("IPFS for the messages exchanging")]),s("li",[e._v("the Ethereum blockchain for storing new liability contracts")]),s("li",[e._v("a provider that is responsible for matching messages")]),s("li",[e._v("an agent")])]),s("p",[e._v("Let's have a look at the following diagram that describes the scenario without any additional details:")]),s("p",[s("g-image",{attrs:{src:o("IXYQ"),alt:"The main scenario of Robonomics Network",title:"The main scenario of Robonomics Network"}})],1),s("p",[e._v("There are three types of "),s("a",{attrs:{href:"/docs/market-messages"}},[e._v("messages")]),e._v(" in IPFS: Demand, Offer, Result.")]),s("p",[s("strong",[e._v("Below there is the specification for a Demand message:")])]),s("table",[s("thead",[s("tr",[s("th",[e._v("Field")]),s("th",[e._v("Type")]),s("th",[e._v("Description")]),s("th",[e._v("Example")])])]),s("tbody",[s("tr",[s("td",[e._v("model")]),s("td",[s("a",{attrs:{href:"/docs/robonomics-liability-messages#ipfs_commonmultihashmsg"}},[e._v("ipfs_common/Multihash")])]),s("td",[e._v("CPS behavioral model Identifier")]),s("td",[e._v("QmfXHZ2YkNC5vRjp1oAaRoDHD8H3zZznfhBPasTu348eWC")])]),s("tr",[s("td",[e._v("objective")]),s("td",[s("a",{attrs:{href:"/docs/robonomics-liability-messages#ipfs_commonmultihashmsg"}},[e._v("ipfs_common/Multihash")])]),s("td",[e._v("CPS behavioral model parameters in rosbag file")]),s("td",[e._v("QmUo3vvSXZPQaQWjb3cH3qQo1hc8vAUqNnqbdVABbSLb6r")])]),s("tr",[s("td",[e._v("token")]),s("td",[e._v("ethereum_common/Address")]),s("td",[e._v("Operational token address")]),s("td",[e._v("0xbD949595eE52346c225a19724084cE517B2cB735")])]),s("tr",[s("td",[e._v("cost")]),s("td",[e._v("ethereum_common/UInt256")]),s("td",[e._v("CPS behavioral model implementation cost")]),s("td",[e._v("1")])]),s("tr",[s("td",[e._v("lighthouse")]),s("td",[e._v("ethereum_common/Address")]),s("td",[e._v("Lighthouse address")]),s("td",[e._v("0xa1b60ED40E5A68184b3ce4f7bEf31521A57eD2dB1")])]),s("tr",[s("td",[e._v("validator")]),s("td",[e._v("ethereum_common/Address")]),s("td",[e._v("Observing network address")]),s("td",[e._v("0x0000000000000000000000000000000000000000")])]),s("tr",[s("td",[e._v("validatorFee")]),s("td",[e._v("ethereum_common/UInt256")]),s("td",[e._v("Observing network commission")]),s("td",[e._v("0")])]),s("tr",[s("td",[e._v("deadline")]),s("td",[e._v("ethereum_common/UInt256")]),s("td",[e._v("Deadline block number")]),s("td",[e._v("6393332")])]),s("tr",[s("td",[e._v("sender")]),s("td",[e._v("ethereum_common/Address")]),s("td",[e._v("Message sender address")]),s("td",[e._v("0x0000000000000000000000000000000000000000")])]),s("tr",[s("td",[e._v("signature")]),s("td",[e._v("std_msgs/UInt8[]")]),s("td",[e._v("Sender’s digital signature")]),s("td",[e._v("0x23bc…c617")])])])]),s("p",[e._v("An Offer message has the same fields but instead of "),s("code",{pre:!0},[e._v("validatorFee")]),e._v(" there is a "),s("code",{pre:!0},[e._v("lighthouseFee")]),e._v(" field. This field determines the amount of fee for a lighthouse.")]),s("p",[e._v("Now let's have a look at the following diagram and walk step by step from the moment of publishing messages to a liability finalization.")]),s("p",[s("g-image",{attrs:{src:o("aDXn"),alt:"Robonomics Network detailed scenario",title:"Robonomics Network detailed scenario"}})],1),s("p",[e._v("A liability contract is created only if the following fields match: "),s("code",{pre:!0},[e._v("model")]),e._v(", "),s("code",{pre:!0},[e._v("objective")]),e._v(", "),s("code",{pre:!0},[e._v("token")]),e._v(", "),s("code",{pre:!0},[e._v("cost")]),e._v(". A provider of Robonomics Network watches every message and finds those ones that have a match.\nAfter the match is found the provider calls "),s("code",{pre:!0},[e._v("createLiability(demand, offer)")]),e._v(" method from the contract factory where "),s("code",{pre:!0},[e._v("demand")]),e._v(" and "),s("code",{pre:!0},[e._v("offer")]),e._v(" are serialized.")]),s("p",[e._v("Below is the package diagram for the Robonomics communication stack:")]),s("p",[s("g-image",{attrs:{src:o("DnKH"),alt:"Robonomics communication stack",title:"Robonomics communication stack"}})],1),s("p",[e._v("The factory deserializes arguments and recovers "),s("em",[e._v("promisee")]),e._v(" and "),s("em",[e._v("promisor")]),e._v(" addresses from signatures.")]),s("p",[e._v("Next step is token transfer. The factory transfers "),s("strong",[e._v("cost")]),e._v(" tokens from the "),s("em",[e._v("promisee")]),e._v(" address and "),s("strong",[e._v("validatorFee")]),e._v(" and "),s("strong",[e._v("lighthouseFee")]),e._v(" from the "),s("em",[e._v("promisor")]),e._v(" address to the new liability address.")]),s("blockquote",[s("ul",[s("li",[s("strong",[e._v("You should approve sufficient amount of tokens for the factory.")])]),s("li",[s("strong",[e._v("It's not required to approve tokens from the "),s("em",[e._v("promisor")]),e._v(" address if fees are null.")])])])]),s("p",[e._v("Now the factory emits a NewLiability event with the liability address. An agent gets the address, reads fields, perform a task and at the same time writes a log file in rosbag format.")]),s("p",[e._v("When the work is done the agent sends a Result message with the following fields: hash of the rosbag file, a success flag, a signature. If the "),s("strong",[e._v("validator")]),e._v(" field is not null it means that only validator is able to finalize the liability.")]),s("p",[e._v("After the successful liability finalization the agent gets "),s("strong",[e._v("cost")]),e._v(" tokens. Otherwise, the "),s("em",[e._v("promisee")]),e._v(" gets tokens back.")])])}),[],!1,null,null,null);"function"==typeof n&&n(l),"function"==typeof m&&m(l);t.default=l.exports}}]);